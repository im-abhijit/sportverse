import{j as e}from"./ui-B75sWwG2.js";import{u as y,f as C,r as m}from"./vendor-CNUPXUkP.js";import{u as h,B as d,C as b,b as I,d as V,a as S}from"./index-B1V6OKtR.js";import{S as t}from"./skeleton-CC-56ifn.js";import{E as j}from"./EmptyState-DlEQOQRq.js";import{a as z}from"./venuesApi-P4toOt7F.js";import{g as N}from"./imageUtils-oRQLthwP.js";import{C as A,h as x,i as $,j as k,d as L,M as i}from"./utils-E33ow1TR.js";import"./api-BW-Pu9pH.js";const R=()=>{const l=y(),u=C(),[o,g]=m.useState([]),[p,f]=m.useState(!1);m.useEffect(()=>{const r=localStorage.getItem("partnerId"),a=localStorage.getItem("isPartnerLoggedIn");if(!r||a!=="true"){h.error("Please login to access the dashboard"),l("/partner/login");return}},[l,u.pathname]),m.useEffect(()=>{(async()=>{const a=localStorage.getItem("partnerId"),n=localStorage.getItem("isPartnerLoggedIn");if(!(!a||n!=="true")){f(!0);try{const s=await z(a);if(s.success&&s.data){const c=Array.isArray(s.data)?s.data:[s.data];g(c),localStorage.setItem("partnerVenues",JSON.stringify(c))}else h.error(s.message||"Failed to fetch venues"),g([]),localStorage.removeItem("partnerVenues")}catch(s){h.error(s instanceof Error?s.message:"Failed to load venues"),g([]),localStorage.removeItem("partnerVenues")}finally{f(!1)}}})()},[l,u.pathname]);const v=[{title:"Total Bookings",icon:A,gradient:"from-blue-500 to-blue-600",bgGradient:"from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900",onClick:()=>l("/partner/bookings")},{title:"Add a new booking",icon:x,gradient:"from-green-500 to-green-600",bgGradient:"from-green-50 to-green-100 dark:from-green-950 dark:to-green-900",onClick:()=>l("/partner/add-booking")},{title:"Active Venues",value:o.length.toString(),icon:$,gradient:"from-blue-400 to-green-500",bgGradient:"from-blue-50 via-green-50 to-green-100 dark:from-blue-950 dark:via-green-950 dark:to-green-900"}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50/30 via-background to-green-50/30 dark:from-blue-950/20 dark:via-background dark:to-green-950/20",children:e.jsxs("div",{className:"container mx-auto px-3 sm:px-4 md:px-6 py-4 sm:py-6 md:py-8",children:[e.jsx("div",{className:"block lg:hidden mb-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),e.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-green-600 dark:from-blue-400 dark:to-green-400 bg-clip-text text-transparent",children:"Dashboard"})]}),e.jsxs(d,{variant:"hero",size:"sm",className:"shadow-md",onClick:()=>l("/partner/list-venue"),children:[e.jsx(x,{className:"h-4 w-4 mr-1"}),"Add Venue"]})]})}),e.jsxs("div",{className:"hidden lg:block relative overflow-hidden rounded-3xl bg-gradient-to-r from-blue-500/10 via-green-500/10 to-blue-500/5 border-2 border-blue-200/50 dark:border-blue-800/50 p-6 lg:p-8 mb-6 md:mb-8",children:[e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(k,{className:"h-6 w-6 lg:h-8 lg:w-8 text-blue-600 dark:text-blue-400"}),e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold bg-gradient-to-r from-blue-600 via-green-600 to-blue-600 dark:from-blue-400 dark:via-green-400 dark:to-blue-400 bg-clip-text text-transparent",children:"Partner Dashboard"})]}),e.jsx("p",{className:"text-base lg:text-lg text-muted-foreground",children:"Manage your venues, bookings, and grow your business"})]}),e.jsxs(d,{variant:"hero",size:"lg",className:"shadow-xl hover:shadow-2xl transition-shadow bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700",onClick:()=>l("/partner/list-venue"),children:[e.jsx(x,{className:"h-5 w-5 mr-2"}),"Add New Venue"]})]})}),e.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 lg:w-64 lg:h-64 bg-gradient-to-br from-blue-400/20 to-green-400/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"})]}),e.jsx("div",{className:"block lg:hidden mb-4",children:e.jsx("div",{className:"grid grid-cols-3 gap-2 md:gap-3",children:v.map((r,a)=>e.jsx("div",{className:`group relative overflow-hidden rounded-lg border transition-all duration-200 ${r.onClick?"cursor-pointer active:scale-95 border-blue-200 dark:border-blue-800":"border-blue-200 dark:border-blue-800"} bg-gradient-to-br ${r.bgGradient}`,onClick:r.onClick,children:e.jsxs("div",{className:"p-2.5 relative z-10",children:[e.jsx("div",{className:`p-1.5 rounded-md bg-gradient-to-br ${r.gradient} shadow-sm mb-2`,children:e.jsx(r.icon,{className:"h-4 w-4 text-white"})}),e.jsx("p",{className:"text-[10px] font-medium text-muted-foreground leading-tight mb-1",children:r.title}),r.value?e.jsx("p",{className:"text-base font-bold text-foreground",children:r.value}):e.jsx("p",{className:"text-[9px] text-muted-foreground/70",children:"Tap"})]})},a))})}),e.jsx("div",{className:"hidden lg:grid lg:grid-cols-3 gap-4 md:gap-5 lg:gap-6 mb-6 md:mb-8",children:v.map((r,a)=>e.jsxs("div",{className:`group relative overflow-hidden rounded-2xl border-2 transition-all duration-300 ${r.onClick?"cursor-pointer hover:scale-[1.02] hover:shadow-xl active:scale-[0.98] border-transparent hover:border-blue-500/50":"border-transparent"} bg-gradient-to-br ${r.bgGradient}`,onClick:r.onClick,children:[e.jsxs("div",{className:"p-6 lg:p-8 relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`p-3 lg:p-4 rounded-xl bg-gradient-to-br ${r.gradient} shadow-lg`,children:e.jsx(r.icon,{className:"h-6 w-6 lg:h-7 lg:w-7 text-white"})}),r.onClick&&e.jsx(L,{className:"h-5 w-5 text-muted-foreground group-hover:text-blue-600 dark:group-hover:text-blue-400 group-hover:translate-x-1 transition-all"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm lg:text-base font-medium text-muted-foreground",children:r.title}),r.value?e.jsx("p",{className:"text-3xl lg:text-4xl font-bold bg-gradient-to-r from-blue-600 to-green-600 dark:from-blue-400 dark:to-green-400 bg-clip-text text-transparent",children:r.value}):e.jsx("p",{className:"text-sm text-muted-foreground/80 mt-1",children:"Click to view"})]})]}),e.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r ${r.gradient} opacity-0 group-hover:opacity-100 transition-opacity`})]},a))}),e.jsxs("div",{className:"block lg:hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(i,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),e.jsx("h2",{className:"text-lg font-bold",children:"My Venues"}),o.length>0&&e.jsx("span",{className:"px-2 py-0.5 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 text-xs font-medium",children:o.length})]}),p?e.jsx("div",{className:"space-y-2",children:[...Array(3)].map((r,a)=>e.jsx(b,{className:"p-2.5",children:e.jsxs("div",{className:"flex gap-2.5",children:[e.jsx(t,{className:"w-16 h-16 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(t,{className:"h-4 w-3/4"}),e.jsx(t,{className:"h-3 w-1/2"}),e.jsxs("div",{className:"flex gap-1.5",children:[e.jsx(t,{className:"h-7 w-20"}),e.jsx(t,{className:"h-7 w-20"})]})]})]})},a))}):o.length===0?e.jsx(j,{icon:i,title:"No venues yet",description:"Add your first venue to get started",action:{label:"Add Venue",onClick:()=>l("/partner/list-venue")}}):e.jsx("div",{className:"space-y-2",children:o.map(r=>{const a=r.id||"",n=r.photos&&r.photos.length>0?N(r.photos[0]):void 0,s=r.addtress||r.address||r.city||"";return e.jsx(b,{className:"p-2.5 border border-blue-200 dark:border-blue-800 hover:border-blue-400 dark:hover:border-blue-600 transition-colors",children:e.jsxs("div",{className:"flex gap-2.5",children:[n&&e.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden flex-shrink-0",children:e.jsx("img",{src:n,alt:r.name,loading:"lazy",decoding:"async",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-sm line-clamp-1 mb-0.5",children:r.name}),s&&e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 mb-1.5",children:s}),e.jsxs("div",{className:"flex gap-1.5",children:[e.jsx(d,{variant:"outline",size:"sm",className:"h-7 px-2 text-xs flex-1",onClick:()=>l(`/partner/edit-venue/${a}`),children:"Edit"}),e.jsx(d,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs flex-1",onClick:()=>l(`/partner/venue/${a}`),children:"View"})]})]})]})},a)})})]}),e.jsxs(b,{className:"hidden lg:block border-2 shadow-lg border-blue-200/50 dark:border-blue-800/50",children:[e.jsx(I,{className:"pb-6 border-b border-blue-200/50 dark:border-blue-800/50",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-blue-100 to-green-100 dark:from-blue-900 dark:to-green-900",children:e.jsx(i,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsx(V,{className:"text-xl lg:text-2xl bg-gradient-to-r from-blue-600 to-green-600 dark:from-blue-400 dark:to-green-400 bg-clip-text text-transparent",children:"My Venues"}),o.length>0&&e.jsx("span",{className:"px-3 py-1 rounded-full bg-gradient-to-r from-blue-100 to-green-100 dark:from-blue-900 dark:to-green-900 text-blue-700 dark:text-blue-300 text-sm font-medium",children:o.length})]})})}),e.jsx(S,{className:"p-6 lg:p-8",children:p?e.jsx("div",{className:"space-y-5",children:[...Array(3)].map((r,a)=>e.jsx("div",{className:"rounded-2xl border-2 overflow-hidden",children:e.jsxs("div",{className:"flex flex-row gap-0",children:[e.jsx(t,{className:"w-56 lg:w-64 h-[180px]"}),e.jsxs("div",{className:"flex-1 p-6 lg:p-8 space-y-3",children:[e.jsx(t,{className:"h-6 w-3/4"}),e.jsx(t,{className:"h-4 w-full"}),e.jsx(t,{className:"h-4 w-2/3"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{className:"h-6 w-20"}),e.jsx(t,{className:"h-6 w-20"})]})]})]})},a))}):o.length===0?e.jsx(j,{icon:i,title:"No venues yet",description:"Start by adding your first venue to begin managing bookings",action:{label:"Add Your First Venue",onClick:()=>l("/partner/list-venue")}}):e.jsx("div",{className:"space-y-5",children:o.map(r=>{const a=r.id||"",n=r.photos&&r.photos.length>0?N(r.photos[0]):void 0,s=r.addtress||r.address||r.city||"";return e.jsx("div",{className:"group relative overflow-hidden rounded-2xl border-2 border-blue-200/50 dark:border-blue-800/50 hover:border-blue-400 dark:hover:border-blue-600 bg-card transition-all duration-300 hover:shadow-xl",children:e.jsxs("div",{className:"flex flex-row gap-0",children:[n&&e.jsxs("div",{className:"w-56 lg:w-64 h-auto min-h-[180px] rounded-l-2xl overflow-hidden flex-shrink-0 relative",children:[e.jsx("img",{src:n,alt:r.name,loading:"lazy",decoding:"async",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),e.jsx("div",{className:"flex-1 p-6 lg:p-8",children:e.jsxs("div",{className:"flex flex-row items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[e.jsx("h3",{className:"font-bold text-xl lg:text-2xl line-clamp-1 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:r.name}),r.description&&e.jsx("p",{className:"text-base text-muted-foreground line-clamp-2",children:r.description}),s&&e.jsxs("div",{className:"flex items-center gap-1.5 text-base text-muted-foreground",children:[e.jsx(i,{className:"h-4 w-4 flex-shrink-0 text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"line-clamp-1",children:s})]}),r.games&&r.games.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[r.games.slice(0,3).map((c,w)=>e.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-100 to-green-100 dark:from-blue-900 dark:to-green-900 text-blue-700 dark:text-blue-300 rounded-md text-sm font-medium",children:c},w)),r.games.length>3&&e.jsxs("span",{className:"px-3 py-1 bg-muted text-muted-foreground rounded-md text-sm font-medium",children:["+",r.games.length-3," more"]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 pl-5 ml-5 border-l border-blue-200/50 dark:border-blue-800/50",children:[e.jsx(d,{variant:"outline",size:"sm",className:"w-full hover:bg-gradient-to-r hover:from-blue-600 hover:to-green-600 hover:text-white hover:border-transparent transition-all",onClick:()=>l(`/partner/edit-venue/${a}`),children:"Edit"}),e.jsx(d,{variant:"ghost",size:"sm",className:"w-full hover:bg-gradient-to-r hover:from-blue-100 hover:to-green-100 dark:hover:from-blue-900 dark:hover:to-green-900 hover:text-blue-700 dark:hover:text-blue-300 transition-all",onClick:()=>l(`/partner/venue/${a}`),children:"View"})]})]})})]})},a)})})})]}),e.jsx("div",{className:"fixed bottom-6 right-6 lg:hidden z-50",children:e.jsx(d,{size:"lg",className:"rounded-full h-14 w-14 shadow-2xl hover:shadow-3xl hover:scale-110 transition-all bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700",onClick:()=>l("/partner/add-booking"),children:e.jsx(x,{className:"h-6 w-6"})})})]})})};export{R as default};

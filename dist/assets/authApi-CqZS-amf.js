import{A as o}from"./api-BW-Pu9pH.js";const n=async(e,a="sms")=>{try{const r=await fetch(`${o}/api/auth/generate-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:e,channel:a})});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch{throw new Error("Failed to generate OTP. Please try again.")}},i=async(e,a)=>{try{const r=await fetch(`${o}/api/auth/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:e,code:a})});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return await r.json()}catch{throw new Error("Failed to verify OTP. Please try again.")}},c=async(e,a)=>{try{if(!e||!e.trim())throw new Error("Partner ID is required");if(!a||!a.trim())throw new Error("Password is required");const r=await fetch(`${o}/api/auth/partner/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({partnerId:e.trim(),password:a.trim()})}),t=await r.json();if(r.status===400)throw new Error(t.message||"Invalid request. Please check your input.");if(r.status===500)throw new Error(t.message||"An error occurred while logging in. Please try again later.");if(r.ok&&t.success)return t;throw r.ok&&!t.success?new Error(t.message||"Invalid partner ID or password"):new Error(t.message||"Login failed. Please try again.")}catch(r){throw r instanceof Error?r:new Error("Login failed. Please try again.")}};export{n as g,c as p,i as v};
